<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>anippt</title>
	<link rel="stylesheet" type="text/css" href="css/anippt.css">
	<link rel="stylesheet" href="highlight/styles/default.css">
	<script src="highlight/highlight.pack.js"></script>
<script>
hljs.configure({
  tabReplace: '    ', // 4 spaces
  classPrefix: ''     // don't append class prefix
})
hljs.initHighlightingOnLoad();
</script>
</head>
<body>

<div class="menu">
    <ul>
        <!-- <li><a href="">aaa</a></li>
        <li><a href="">bbb</a></li>
        <li><a href="">ccc</a></li> -->
    </ul>
</div>

<div id="impress">

    <div id="ppt" class="step center">
        <h1> pro6 总结 （动画）</h1>
    </div>

    <div id="sum" class="step">
        <h2> 目录 </h2>
    	<ul>
	        <li class="item">想法来源</li>
            <li class="item">代码讲解</li>
	        <li class="item">技术总结</li>
	    </ul>
    </div>

    <div id="thought" class="step">
        <h2>想法</h2>
    	<ul>
            <li class="item">从文案出发</li>
            <li class="item">与大家讨论</li>
            <li class="item">从生活联想</li>
	        <li class="item">画草图思考</li>
	        <li class="item">逛 codepen</li>
	    </ul>
    </div>

    <div id="perspective" class="step">
        <h2>一点点透视原理</h2>
        <img class="block" src="img/xiaoshidian.png">
        <a href="https://mp.weixin.qq.com/s?__biz=MzA5NjIzNjgxNw==&mid=403955067&idx=4&sn=c192799a8df373915708c5acc32b645a&scene=1&srcid=0420ZDZtUSfPNZr6fgFlZGeO&key=b28b03434249256bbc6467dbe955493fd9ab4fed7d8f8c35e074744b48e36ac728c809e1360441f21e2b483f8ce73c62&ascene=0&uin=NjYwMDUxMDU%3D&devicetype=iMac15%2C1+OSX+OSX+10.10.5+build(14F27)&version=11020201&pass_ticket=AWF6tLHfJtYBYiVgqelno9FhvN%2FfQ2iocwsWOgW3674%3D">干货！一个帖子学会透视原理！</a>
    </div>

    <div class="step">
        <img src="img/shipingxian.png">
    </div>
    <div class="step">
        <img src="img/pararel.png">
    </div>


    <div id="code" class="step">
        <h2>代码讲解</h2>
    </div>


    <div id="techSum" class="step">
        <h2>技术总结</h2>
        <li class="item">canvas</li>
        <li class="item">svg</li>
        <li class="item">css 动画</li>       
        <li class="item">兼容</li>       
    </div>

    <div id="canvas" class="step">
        <h2>canvas</h2>
    	<li class="item">动画函数 easing.js</li>
    	<li class="item">性能优化 canvas</li>
    	<li class="item">一些封装 </li>
    </div>

    <div id="easing" class="step">
    	<h2>easing.js</h2>

<pre><code class="javascript">
easing.easingFun(t, b, c, d);
// t: current time, 
// b: begInnIng value, 
// c: change In value, 
// d: duration
</code></pre>
		<p class="block"><a target="_blank" href="http://gsgd.co.uk/sandbox/jquery/easing/">http://gsgd.co.uk/sandbox/jquery/easing/</a></p>
    </div>


    <!-- 离线 canvas -->
    <div id="canvasoptimizer" class="step">
        <h2>canvas 优化</h2>  
    </div>

	<div class="step">
		<h2>离线 canvas</h2>
		<p>
			如果需要大量重绘相似的物体， 可以通过预渲染场景中的大部分物体来提升性能。
		</p>
<pre><code class="javascript">		
// 离线cvs
var offLineCvs = document.createElement('canvas'),
    offLineCtx = offLineCvs.getContext('2d');

offLineCvs.width = 30;
offLineCvs.height = 30;
offLineCtx.drawSomething

// 绘制 离线cvs
ctx.drawImage(
    offLineCvs,0,0,offLineCvs.width,offLineCvs.height,
    pX, pY, pWidth, pHeight
);
</code></pre>
	</div>

    <!-- 其他 优化 -->
    <div id="othercanvasoptimize" class="step">
        <h2>尽量在一条路径中做更多的事</h2>
        <p>将所有的点放到路径中会比分别单独的绘制各个部分要高效的多</p>

<pre><code class="javascript">      
// bad
for (var i = 0; i < points.length - 1; i++) {  
    var p1 = points[i];  
    var p2 = points[i+1];  
    context.beginPath();  
    context.moveTo(p1.x, p1.y);  
    context.lineTo(p2.x, p2.y);  
    context.stroke();  
}  
// good 
context.beginPath();  
for (var i = 0; i < points.length - 1; i++) {  
    var p1 = points[i];  
    var p2 = points[i+1];  
    context.moveTo(p1.x, p1.y);  
    context.lineTo(p2.x, p2.y);  
}  
context.stroke();
</code></pre>

    </div> 

    <div class="step">
        <h2>浮点坐标转换为整数坐标</h2>

<pre><code class="javascript">      
// bad
ctx.fillRect(8.233333,8.233333,49.233333,50.233333);  
// good 
ctx.fillRect(
    Math.round(8.233333), 
    Math.round(8.233333),
    Math.round(49.233333),
    Math.round(50.233333)
);  
</code></pre>

    </div>

    <div class="step">
        <h2>其他优化方法</h2>
        <ul>
            <li class="item">requestAnimationFrame 代替 setTimeout</li>
            <li class="item">局部更新画布</li>
            <li class="item">分解画面，使用多个canvas</li>
        </ul>
    </div>


    <div class="step">
        <h2>适用于官网页面形式的 canvas 优化</h2>

        <p>
            官网页面使用的 canvas 动画，不同于 canvas 应用，需要一直展示。只要在该屏出现的时候，运行即可。而在该屏离开屏幕的时候，应该要停止操作这一屏的 canvas，这样可以避免不必要的性能开销。</p>
        <a target="_blank" href="http://codepen.io/JasonTurbo/pen/PNReQQ">
            https://codepen.io/JasonTurbo/pen/PNReQQ
        </a>
    </div>

    <!-- svg -->
    <div id="svg" class="step">
        <h2>简单介绍一下svg</h2>
        <p>SVG可缩放矢量图形（Scalable Vector Graphics）是基于可扩展标记语言（XML），用于描述二维矢量图形的一种图形格式。SVG是W3C制定的一种新的二维矢量图形格式，也是规范中的网络矢量图形标准。SVG严格遵从XML语法，并用文本格式的描述性语言来描述图像内容，因此是一种和图像分辨率无关的矢量图形格式。</p>
        <img class="block" src="img/svg_support.png" alt="">
    </div>    

    <div class="step">
        <h2>基本图形</h2>
        <img class="block" src="img/svg.png">
        <a target="_blank" href="http://codepen.io/JasonTurbo/pen/xVzoPY">
            https://codepen.io/JasonTurbo/pen/xVzoPY
        </a>
    </div>        



    <div id="cssanimate" class="step">
        <h2>css 动画</h2>
        <p>css动画比较简单，主要形式是先让动画元素变换到指定位置。当该元素被浏览（激活），则将变换重写为none。这里可以通过给被激活元素（或父级元素加上特定的类）实现。</p>
<pre><code  class="css">
.ani-elem {
    left: 109px;
    // for animate
    opacity: 0;
    transform: sometransform;
    transition: transform 1s 1s, opacity  1s 1s;
}   
.actived .ani-elem {
    opacity: 1;
    transform: none;
}
</code></pre>

    </div>


    <!-- mz-scroll -->
    <div id="mz-scroll" class="step">
        <h2>mz-scroll</h2>
        <p>
            官网产品页面，几乎所有动画都是滚动触发的。
            为了方便，所以写了个小插件帮忙处理滚动监听。
            然后页面就可以不用关心滚动逻辑而专注于 css 动画了。
            <a href="https://github.com/mz-components/mz-scroll">
                https://github.com/mz-components/mz-scroll
            </a>
        </p>
    </div>

    <div class="step">
        <h2>mz-scroll</h2>
        <img src="img/mz-scroll.png">
    </div>

    <div class="step">
        <h2>mz-scroll</h2>
        <p>一个栗子</p>
<pre><code class="javascript">
/*
 * options 配置 如果传false则删除此元素监听任务
 *
 * once {boolean} 是否执行一次 default false
 * topOffset {int} 元素顶部到窗口底部的距离多少算进入区域 default 0
 * bottomOffset {int} 元素底部到窗口顶部部的距离多少算进入区域 default 0
 * setUp {function} 如需要做一些准备工作可以写在这里
 * activeClass {string} 元素进入区域要添加的类
 * scrollIn {function} 元素进入区域的回调
 * scrollOut {function} 元素离开区域的回调
 * scrolling {function(scrolloffset)} 元素处于激活状态时处理滚动的函数
 */
$('.slider').addScroll({
    once: true,
    topOffset: -500,
    bottomOffset: -400,
    activeClass: 'actived'
});
</code></pre>
    </div>



    <div id="modernizr" class="step">
        <h2>使用 Modernizr 特性检测做兼容</h2>
        <p>css</p>
<pre><code class="stylesheet">
.no-borderradius {
    // 如果不支持 borderradius 怎样怎样
}
.no-canvas {
    // 如果不支持 canvas 怎样怎样
}
</code></pre>
        <p>js</p>

<pre><code class="javascript">
if (Modernizr.csstransitions) {
    // 如果支持 transitions 怎样怎样
}
if (Modernizr.video) {
    // 如果支持 video 怎样怎样
}
</code></pre>   
        <a href="https://modernizr.com/">https://modernizr.com/</a>     
    </div>    


    <!-- <div id="overview" class="step" data-x="0" data-y="0" data-scale="2"></div> -->
</div>





	
<script src="js/jquery.js"></script>
<script src="js/impress.js"></script>
<script src="js/anippt.js"> </script>
</body>
</html>